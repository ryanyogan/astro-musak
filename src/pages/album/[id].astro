---
import Record from "src/components/Record";
import Layout from "src/layouts/Layout.astro";

const { id } = Astro.params;
const response = await fetch(
  `https://music-api.charca.workers.dev/albums/${id}`
);
const album = await response.json();
---

<Layout title="Moo Tunes">
  <section>
    <div
      class="container max-w-screen-lg mx-auto px-6 lg:px-0 flex flex-col items-start md:items-end md:flex-row pt-8 pb-12 overflow-hidden"
    >
      <Record
        client:visible
        albumId={album.idAlbum}
        title={album.strAlbum}
        imageUrl={album.strAlbumThumb}
      />
      <div class="flex-1 flex flex-col justify-end pt-8">
        <h1 class="text-5xl font-bold tracking-tight text-gray-900">
          {album.strAlbum}
        </h1>
        <p class="mt-3 text-3xl">{album.strArtist}</p>
        <p class="mt-2 text-lg">{album.strGenre} - {album.intYearReleased}</p>
      </div>
    </div>
  </section>
</Layout>
